

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="fr" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="fr" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Solution &mdash; Documentation seqata 0</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script type="text/javascript" src="_static/translations.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Recherche" href="search.html" />
    <link rel="next" title="Solvers" href="solvers.html" />
    <link rel="prev" title="Instance" href="instance.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> seqata
          

          
          </a>

          
            
            
              <div class="version">
                0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="plane.html">Plane</a></li>
<li class="toctree-l1"><a class="reference internal" href="instance.html">Instance</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Solution</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#methods">Methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="#processing">Processing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="solvers.html">Solvers</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">Utils</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">seqata</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Solution</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/solution.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="solution">
<h1>Solution<a class="headerlink" href="#solution" title="Lien permanent vers ce titre">¶</a></h1>
<div class="section" id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="Lien permanent vers ce titre">¶</a></h2>
<dl class="class"><dt id=Solution><em class="property">type </em><code class="descname">Solution</code><a class="headerlink" href="#Solution" title="Permalink to thistype">¶</a></dt><dd class="body"><p><p>Un object de classe Solution encapsule les éléments d’une solution</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inst</strong> (<em>Instance</em>) – instance du problème</p></li>
<li><p><strong>planes</strong> (<em>Vector{Plane}</em>) – Avions</p></li>
<li><p><strong>x</strong> (<em>Vector{Int}</em>) – Dates d’atterrissage des avions</p></li>
<li><p><strong>costs</strong> (<em>Vector{Float64}</em>) – Coût de chaque avion</p></li>
<li><p><strong>cost</strong> (<em>Float64</em>) – Coût total de la solution</p></li>
<li><p><strong>timing_algo_solver</strong> – </p></li>
</ul>
</dd>
</dl>
</p>
<dl class="function"><dt id="Solution-5842ceacaeb11d5c5572463115ca54b6"><em class="property">function </em><code class="descname">Solution</code><span class="sig-paren">(</span><em>inst</em>::Instance; <em>update</em>::Bool = <tt>true</tt>, <em>algo</em> = <tt>:ARGS</tt><span class="sig-paren">)</span><a class="headerlink" href="#Solution-5842ceacaeb11d5c5572463115ca54b6" title="Permalink to this function">¶</a></dt><dd><p><p>Un object de classe Solution encapsule les éléments d’une solution</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inst</strong> (<em>Instance</em>) – instance du problème</p></li>
<li><p><strong>planes</strong> (<em>Vector{Plane}</em>) – Avions</p></li>
<li><p><strong>x</strong> (<em>Vector{Int}</em>) – Dates d’atterrissage des avions</p></li>
<li><p><strong>costs</strong> (<em>Vector{Float64}</em>) – Coût de chaque avion</p></li>
<li><p><strong>cost</strong> (<em>Float64</em>) – Coût total de la solution</p></li>
<li><p><strong>timing_algo_solver</strong> – </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl><dl class="function"><dt id="Solution-60967fd402e0ea4918589ea3077544fa"><em class="property">function </em><code class="descname">Solution</code><span class="sig-paren">(</span><em>sol</em>::Solution<span class="sig-paren">)</span><a class="headerlink" href="#Solution-60967fd402e0ea4918589ea3077544fa" title="Permalink to this function">¶</a></dt><dd><p><p>Un object de classe Solution encapsule les éléments d’une solution</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inst</strong> (<em>Instance</em>) – instance du problème</p></li>
<li><p><strong>planes</strong> (<em>Vector{Plane}</em>) – Avions</p></li>
<li><p><strong>x</strong> (<em>Vector{Int}</em>) – Dates d’atterrissage des avions</p></li>
<li><p><strong>costs</strong> (<em>Vector{Float64}</em>) – Coût de chaque avion</p></li>
<li><p><strong>cost</strong> (<em>Float64</em>) – Coût total de la solution</p></li>
<li><p><strong>timing_algo_solver</strong> – </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl><dl class="function"><dt id="Solution-4efb8ba2ca84765c19dc0b9557f1a16a"><em class="property">function </em><code class="descname">Solution</code><span class="sig-paren">(</span><em>instance</em>::Instance, <em>planes</em>::Vector{Plane}, <em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#Solution-4efb8ba2ca84765c19dc0b9557f1a16a" title="Permalink to this function">¶</a></dt><dd><p><p>Un object de classe Solution encapsule les éléments d’une solution</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inst</strong> (<em>Instance</em>) – instance du problème</p></li>
<li><p><strong>planes</strong> (<em>Vector{Plane}</em>) – Avions</p></li>
<li><p><strong>x</strong> (<em>Vector{Int}</em>) – Dates d’atterrissage des avions</p></li>
<li><p><strong>costs</strong> (<em>Vector{Float64}</em>) – Coût de chaque avion</p></li>
<li><p><strong>cost</strong> (<em>Float64</em>) – Coût total de la solution</p></li>
<li><p><strong>timing_algo_solver</strong> – </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl></dd></dl><dl class="function"><dt id="Solution-d5b21156b450dd1a6167643aac0113a3"><em class="property">function </em><code class="descname">Solution</code><span class="sig-paren">(</span><em>inst</em>::Instance, <em>filename</em>::String; <em>update</em>::Bool = <tt>true</tt>, <em>algo</em> = <tt>:ARGS</tt><span class="sig-paren">)</span><a class="headerlink" href="#Solution-d5b21156b450dd1a6167643aac0113a3" title="Permalink to this function">¶</a></dt><dd><p><p>Retourne la solution</p>
</p>
</dd></dl><dl class="function"><dt id="copy!-be3c7b4bcce3744d431872f3dcbc4cb4"><em class="property">function </em><code class="descname">copy!</code><span class="sig-paren">(</span><em>sol</em>::Solution, <em>other</em>::Solution<span class="sig-paren">)</span><a class="headerlink" href="#copy!-be3c7b4bcce3744d431872f3dcbc4cb4" title="Permalink to this function">¶</a></dt><dd><p><p>Recopie dans la solution <em>sol</em> le contenu de la solution <em>other</em>.</p>
</p>
</dd></dl><dl class="function"><dt id="init_solver-d3cd75c304229db07005f56d6764baab"><em class="property">function </em><code class="descname">init_solver</code><span class="sig-paren">(</span><em>sol</em>::Solution, <em>algo</em>::Symbol<span class="sig-paren">)</span><a class="headerlink" href="#init_solver-d3cd75c304229db07005f56d6764baab" title="Permalink to this function">¶</a></dt><dd><p><p>Crée et affecte l’attribut solver pour la résolution des dates d’atterrissage.</p>
<p>Le type du solver créée est mémorisé dans l’attribut symbole
<code class="docutils literal notranslate"><span class="pre">sol.timing_algo_solver</span></code>
(par exemple :ealiest, :lp, …)</p>
</p>
</dd></dl><dl class="function"><dt id="current_algo_symbol-60967fd402e0ea4918589ea3077544fa"><em class="property">function </em><code class="descname">current_algo_symbol</code><span class="sig-paren">(</span><em>sol</em>::Solution<span class="sig-paren">)</span><a class="headerlink" href="#current_algo_symbol-60967fd402e0ea4918589ea3077544fa" title="Permalink to this function">¶</a></dt><dd><p><blockquote>
<div><p>current_algo_symbol(sol::Solution)</p>
</div></blockquote>
<p>Return le symbol de l’algo à partir du TimingSolver mémorisé dans la
variable sol.solver
Si l’objet n’est pas un solver, le symbol :earliest est retourné</p>
</p>
</dd></dl><dl class="function"><dt id="hash-60967fd402e0ea4918589ea3077544fa"><em class="property">function </em><code class="descname">hash</code><span class="sig-paren">(</span><em>sol</em>::Solution<span class="sig-paren">)</span><a class="headerlink" href="#hash-60967fd402e0ea4918589ea3077544fa" title="Permalink to this function">¶</a></dt><dd><p><blockquote>
<div><p>hash(sol::Solution)</p>
</div></blockquote>
<p>Calcul du hachage d’une solution.
Deux solutions identiques doivent donner le même hachage.
Deux solutions sont considérées comme identique ssi elles ont les avions
dans le même ordre, et avec les mêmes dates d’atterrissage.
HYP: les deux solutions sont à jour (par solve!)</p>
</p>
</dd></dl><dl class="function"><dt id="get_names-60967fd402e0ea4918589ea3077544fa"><em class="property">function </em><code class="descname">get_names</code><span class="sig-paren">(</span><em>sol</em>::Solution<span class="sig-paren">)</span><a class="headerlink" href="#get_names-60967fd402e0ea4918589ea3077544fa" title="Permalink to this function">¶</a></dt><dd><p><p>Retourne le tableaux des noms d’avions dans l’ordre de la solution.</p>
</p>
</dd></dl><dl class="function"><dt id="set_from_names!-338353817472425711aa25e21d3aba02"><em class="property">function </em><code class="descname">set_from_names!</code><span class="sig-paren">(</span><em>sol</em>::Solution, <em>names</em><span class="sig-paren">)</span><a class="headerlink" href="#set_from_names!-338353817472425711aa25e21d3aba02" title="Permalink to this function">¶</a></dt><dd><p><p>Affecte la solution en fonction de l’ordre des noms d’avion définit
en paramètre</p>
<p class="rubric">Exemple</p>
<p><code class="docutils literal notranslate"><span class="pre">set_from_names!(mysol,</span> <span class="pre">[3,</span> <span class="pre">4,</span> <span class="pre">5,</span> <span class="pre">6,</span> <span class="pre">8,</span> <span class="pre">9,</span> <span class="pre">7,</span> <span class="pre">1,</span> <span class="pre">10,</span> <span class="pre">2])</span></code></p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Couteux O(n^2), mais pratique pour affichage et tests.</p>
</div>
</p>
</dd></dl><dl class="function"><dt id="sort!-60967fd402e0ea4918589ea3077544fa"><em class="property">function </em><code class="descname">sort!</code><span class="sig-paren">(</span><em>sol</em>::Solution<span class="sig-paren">)</span><a class="headerlink" href="#sort!-60967fd402e0ea4918589ea3077544fa" title="Permalink to this function">¶</a></dt><dd><p><p>Trie les avions de l’objet sol selon leur date d’atterrissage croissante.</p>
<p>La solution n’est pas recalculée, mais les vecteurs <em>x</em> et <em>planes</em> sont
triés de manière cohérente.</p>
</p>
</dd></dl><dl class="function"><dt id="show-317bfc26f5ae35d626566502e873a770"><em class="property">function </em><code class="descname">show</code><span class="sig-paren">(</span><em>io</em>::IO, <em>sol</em>::Solution<span class="sig-paren">)</span><a class="headerlink" href="#show-317bfc26f5ae35d626566502e873a770" title="Permalink to this function">¶</a></dt><dd><p></p>
</dd></dl><dl class="function"><dt id="to_s-60967fd402e0ea4918589ea3077544fa"><em class="property">function </em><code class="descname">to_s</code><span class="sig-paren">(</span><em>sol</em>::Solution<span class="sig-paren">)</span><a class="headerlink" href="#to_s-60967fd402e0ea4918589ea3077544fa" title="Permalink to this function">¶</a></dt><dd><p><p>Convertit une Solution en chaine</p>
<p class="rubric">Exemple</p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;cost=123.456</span>&#160; <span class="pre">:[p2,p5,p1,...,p10]&quot;</span></code></p>
</p>
</dd></dl><dl class="function"><dt id="to_s_long-60967fd402e0ea4918589ea3077544fa"><em class="property">function </em><code class="descname">to_s_long</code><span class="sig-paren">(</span><em>sol</em>::Solution<span class="sig-paren">)</span><a class="headerlink" href="#to_s_long-60967fd402e0ea4918589ea3077544fa" title="Permalink to this function">¶</a></dt><dd><p></p>
</dd></dl><dl class="function"><dt id="get_viol_penality-60967fd402e0ea4918589ea3077544fa"><em class="property">function </em><code class="descname">get_viol_penality</code><span class="sig-paren">(</span><em>sol</em>::Solution<span class="sig-paren">)</span><a class="headerlink" href="#get_viol_penality-60967fd402e0ea4918589ea3077544fa" title="Permalink to this function">¶</a></dt><dd><p><p>Vérifie la faisabilité de la solution par rapport aux dates d’atterrissage
réelle de la solution.</p>
<p>Retourne un coût de pénalité (nul si solution valide) si des contraintes sont
violées.
Ce coût prend en compte :</p>
<ul class="simple">
<li><p>l’amplitude des viols de la contrainte de séparation,</p></li>
<li><p>l’amplitude des viols des bornes lb et ub de chaque avion.</p></li>
</ul>
<p>Cette méthode suppose que l’information sol.x de la date d’atterrissage
réelle de chaque avion est à jour.</p>
<p>Les viols sont détectés même si l’inégalité triangulaire n’est pas respectée
dans l’instance (instance incorrecte par hypothèse)</p>
<p>Si level est suffisant : affiche message si solution non faisable</p>
</p>
</dd></dl><dl class="function"><dt id="get_viol_description-60967fd402e0ea4918589ea3077544fa"><em class="property">function </em><code class="descname">get_viol_description</code><span class="sig-paren">(</span><em>sol</em>::Solution<span class="sig-paren">)</span><a class="headerlink" href="#get_viol_description-60967fd402e0ea4918589ea3077544fa" title="Permalink to this function">¶</a></dt><dd><p><p>Vérifie la faisabilité dates d’atterrissage x de la solution par rapport
aux contraintes de l’instance.</p>
<ul class="simple">
<li><p>Si pas de viol, retourne une chaine vide</p></li>
<li><p>Si viol, retourne un texte avec une ligne par contrainte violée.</p></li>
</ul>
<p>Les contraintes testées sont les suivante :</p>
<ul class="simple">
<li><p>la date d’atterissage doit entre dans l’intervale permi pour l’avion</p></li>
<li><p>tous les temps de séparation doivent être respertés</p></li>
</ul>
<p>Cette méthode suppose que l’information <em>sol.x</em> de la date d’atterrissage
réelle de chaque avion est à jour.</p>
<p>Les viols sont détectés même si l’inégalité triangulaire n’est pas respectée
dans l’instance (instance incorrecte par hypothèse).</p>
</p>
</dd></dl><dl class="function"><dt id="is_feasable-08c4f525e503ff886978b1563b3432ad"><em class="property">function </em><code class="descname">is_feasable</code><span class="sig-paren">(</span><em>sol</em>::Solution; <em>param_bidon</em> = <tt>nothing</tt><span class="sig-paren">)</span><a class="headerlink" href="#is_feasable-08c4f525e503ff886978b1563b3432ad" title="Permalink to this function">¶</a></dt><dd><p><p>Calcul la faisabilité intrinsèque de la solution en fonction de l’ordre
imposé pour les avions.</p>
<p>Ne modifie pas la solution.</p>
<p>N’utilise pas l’attribut <cite>x[i]</cite> de la solution associée au placement
de chaque avion.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Si on peut placer les avions au plus tôt en respectant les temps de
séparation sans violer la borne sup du placement des avions suivants,
alors la solution est faisable.</p>
</div>
</p>
</dd></dl><dl class="function"><dt id="solve!-bb941d9a82b7da6732a2dd776b114b5a"><em class="property">function </em><code class="descname">solve!</code><span class="sig-paren">(</span><em>sol</em>::Solution; <em>do_update_cost</em>::Bool = <tt>false</tt><span class="sig-paren">)</span><a class="headerlink" href="#solve!-bb941d9a82b7da6732a2dd776b114b5a" title="Permalink to this function">¶</a></dt><dd><p><p>do_update_cost (false par défaut) : si vrai, met à jours les coûts.</p>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>l’option do_update_cost n’est utile que si ce n’est pas déjà fait
par le TimingSolver.</p></li>
<li><p>Elle ne semble plus utilisée (sauf par solve_to_earliest!(sol)).</p></li>
<li><p>Il est conseillé d’appeler explicitement la méthode update_costs!(sol)
plutot que d’utiliser cette option.</p></li>
<li><p>Si aucun TimingSolver n’a été spécifié lors de la création de la solution
alors on utilise la résolution au plus tot.</p></li>
</ul>
</p>
</dd></dl><dl class="function"><dt id="shuffle!-6c27d65315ce709ceeff63a94e8b245c"><em class="property">function </em><code class="descname">shuffle!</code><span class="sig-paren">(</span><em>sol</em>::Solution; <em>do_update</em>::Bool = <tt>true</tt><span class="sig-paren">)</span><a class="headerlink" href="#shuffle!-6c27d65315ce709ceeff63a94e8b245c" title="Permalink to this function">¶</a></dt><dd><p><p>Mélange la solution et mets à jour (par défaut) les timings</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><p><strong>do_update</strong> (<em>Bool</em>) – si vrai, résoud le pb de timing</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>L’option do_update ne semble plus utilisée.</p>
</div>
</p>
</dd></dl><dl class="function"><dt id="disturb!-6816821a57cfbab8cf5cdb2e1023d4f0"><em class="property">function </em><code class="descname">disturb!</code><span class="sig-paren">(</span><em>sol</em>::Solution; <em>idx_first</em> = <tt>1</tt>, <em>idx_last</em> = <tt>-1</tt>, <em>shift_max</em> = <tt>1</tt>, <em>nb_shift</em> = <tt>10</tt>, <em>do_update</em>::Bool = <tt>true</tt><span class="sig-paren">)</span><a class="headerlink" href="#disturb!-6816821a57cfbab8cf5cdb2e1023d4f0" title="Permalink to this function">¶</a></dt><dd><p><p>Remue légèrement la solution et mets à jour (par défaut) les timings</p>
</p>
</dd></dl><dl class="function"><dt id="update_costs!-42d846b55d07a776a0009e3f2f6699c9"><em class="property">function </em><code class="descname">update_costs!</code><span class="sig-paren">(</span><em>sol</em>::Solution; <em>add_viol_penality</em> = <tt>true</tt><span class="sig-paren">)</span><a class="headerlink" href="#update_costs!-42d846b55d07a776a0009e3f2f6699c9" title="Permalink to this function">¶</a></dt><dd><p><p>Met à jour les coûts de chaque avion (sol.costs) et le coût global (sol.cost)
à partir des dates d’atterrissage supposées connues (sol.x).</p>
<div class="admonition caution">
<p class="admonition-title">Prudence</p>
<p>Précondition: le Vector s.costs est dans le même ordre que s.planes</p>
</div>
</p>
</dd></dl><dl class="function"><dt id="solve_to_earliest!-f8f51d70472ded435f4da5b2cb1ad740"><em class="property">function </em><code class="descname">solve_to_earliest!</code><span class="sig-paren">(</span><em>sol</em>::Solution; <em>do_update_cost</em> = <tt>true</tt><span class="sig-paren">)</span><a class="headerlink" href="#solve_to_earliest!-f8f51d70472ded435f4da5b2cb1ad740" title="Permalink to this function">¶</a></dt><dd><p><p>Met à jour la date d’atterrissage de chaque avion au plus tôt, de façon à
respecter les contraintes de précédence au mieux.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Les contraintes de séparation sont <strong>toujours respectées</strong>.
Au besoin on viole la borne  d’atterrissage des avions successeurs (p.ub)</p>
</div>
</p>
</dd></dl><dl class="function"><dt id="swap!-4802df608969acdeb4981fd266aadd33"><em class="property">function </em><code class="descname">swap!</code><span class="sig-paren">(</span><em>sol</em>::Solution, <em>idx1</em> = <tt>-1</tt>, <em>idx2</em> = <tt>-1</tt>; <em>do_update</em> = <tt>true</tt><span class="sig-paren">)</span><a class="headerlink" href="#swap!-4802df608969acdeb4981fd266aadd33" title="Permalink to this function">¶</a></dt><dd><p><p>Permute deux avions d’indices <cite>idx1</cite> et  <cite>idx2</cite> dans la solution.</p>
<p>Si un indice n’est pas défini, il est choisi aléatoirement.</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>indices des avions permutés</p>
</dd>
</dl>
</p>
</dd></dl><dl class="function"><dt id="shift!-4802df608969acdeb4981fd266aadd33"><em class="property">function </em><code class="descname">shift!</code><span class="sig-paren">(</span><em>sol</em>::Solution, <em>idx1</em> = <tt>-1</tt>, <em>idx2</em> = <tt>-1</tt>; <em>do_update</em> = <tt>true</tt><span class="sig-paren">)</span><a class="headerlink" href="#shift!-4802df608969acdeb4981fd266aadd33" title="Permalink to this function">¶</a></dt><dd><p><p>Déplace avions dans la solution</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>idx1</strong> – indice de l’avion d’origine</p></li>
<li><p><strong>idx2</strong> – indice de l’avion cible</p></li>
</ul>
</dd>
</dl>
<p>Si un indice n’est pas défini, il est choisi aléatoirement.</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>indices des avions permutés</p>
</dd>
</dl>
</p>
</dd></dl><dl class="function"><dt id="permu!-29cf6df3f537db91fb919e3ee40200cc"><em class="property">function </em><code class="descname">permu!</code><span class="sig-paren">(</span><em>sol</em>::Solution, <em>indices1</em>, <em>indices2</em>; <em>do_update</em> = <tt>true</tt><span class="sig-paren">)</span><a class="headerlink" href="#permu!-29cf6df3f537db91fb919e3ee40200cc" title="Permalink to this function">¶</a></dt><dd><p><p>Permute des avions dans la solution.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>indices1</strong> – tableau des indices d’avions à permuter</p></li>
<li><p><strong>indices2</strong> – tableau des nouveaux indices des avions permutés</p></li>
<li><p><strong>do_update</strong> – recalcule le coût (true par défaut)</p></li>
</ul>
</dd>
</dl>
<p>HYPOTHESE : indices2 est une permutation valide de indices1</p>
<p>Les avions de la solution ont pour indice 0:nb_planes-1
Par exemple, si indices1 vaut [0, 2, 7, 12]
et si indices2 vaut [12, 7, 0, 2],
L’opération consiste à permuter les avions positionnés en :</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">0,</span> <span class="pre">2,</span> <span class="pre">7,</span> <span class="pre">12</span></code></p>
</div></blockquote>
<dl>
<dt>de façon à ce que leur nouvelle position soit en :</dt><dd><p><code class="docutils literal notranslate"><span class="pre">12,</span> <span class="pre">7,</span> <span class="pre">0,</span> <span class="pre">2</span></code></p>
</dd>
<dt>Exemple:</dt><dd><p>On veut transformer la liste d’avion :
``
&#64;plane = [10, 20, 30, 40, 50, 60, 70, 80, 90, 100]</p>
<blockquote>
<div><p>0   1*  2   3   4   5   6*  7*  8    9</p>
</div></blockquote>
<p>``
en :
``
&#64;plane = [10, 70, 30, 40, 50, 60, 80, 20, 90, 100]</p>
<blockquote>
<div><p>0   1*  2   3   4   5   6*  7*  8    9</p>
</div></blockquote>
<p>``
Pour cela l’appel doit être de la forme :
<code class="docutils literal notranslate"><span class="pre">mysol.permu!</span> <span class="pre">[1,</span> <span class="pre">6,</span> <span class="pre">7],</span> <span class="pre">[7,</span> <span class="pre">1,</span> <span class="pre">6]</span></code></p>
</dd>
</dl>
<p>TODO: effectuer une mise à jour différencielle du coût</p>
</p>
</dd></dl><dl class="function"><dt id="initial_sort!-44c20463d4b21284d8b049f1e2eb2f68"><em class="property">function </em><code class="descname">initial_sort!</code><span class="sig-paren">(</span><em>sol</em>::Solution; <em>presort</em> = <tt>:ARGS</tt>, <em>solve</em> = <tt>true</tt><span class="sig-paren">)</span><a class="headerlink" href="#initial_sort!-44c20463d4b21284d8b049f1e2eb2f68" title="Permalink to this function">¶</a></dt><dd><p><p>Effectue un tri de la solution courante selon le critère passer en paramètre.</p>
<p>Si aucun critère presort n’est imposé en argumant, celui spécifié par
l’option –presort est utilisé</p>
<p>Le timing de la solution est mis à jour.</p>
</p>
</dd></dl><dl class="function"><dt id="write-701023daf67d8ee1b3a31539b4bfaeaa"><em class="property">function </em><code class="descname">write</code><span class="sig-paren">(</span><em>sol</em>::Solution, <em>filename</em> = <tt>""</tt><span class="sig-paren">)</span><a class="headerlink" href="#write-701023daf67d8ee1b3a31539b4bfaeaa" title="Permalink to this function">¶</a></dt><dd><p><p>Enregistre la solution dans un fichier.</p>
<p>Par défaut, le nom est construit automatiquement à partir des caractéristiques
de l’instance et du coût de la solution (arrondi à deux décimales)</p>
</p>
</dd></dl><dl class="function"><dt id="guess_solname-60967fd402e0ea4918589ea3077544fa"><em class="property">function </em><code class="descname">guess_solname</code><span class="sig-paren">(</span><em>sol</em>::Solution<span class="sig-paren">)</span><a class="headerlink" href="#guess_solname-60967fd402e0ea4918589ea3077544fa" title="Permalink to this function">¶</a></dt><dd><p><p>Infère le nom de la solution.</p>
<p>Le nom est de la forme:
<code class="docutils literal notranslate"><span class="pre">alp_01_p10=700.0.sol</span></code></p>
</p>
</dd></dl><dl class="function"><dt id="print_sol-b73c7ec70be28d2711879eefde32ab90"><em class="property">function </em><code class="descname">print_sol</code><span class="sig-paren">(</span><em>sol</em>::Solution, <em>msg</em>::AbstractString = <tt>""</tt><span class="sig-paren">)</span><a class="headerlink" href="#print_sol-b73c7ec70be28d2711879eefde32ab90" title="Permalink to this function">¶</a></dt><dd><p><p>Fonction d’impression de haut niveau.</p>
</p>
</dd></dl></div>
<div class="section" id="processing">
<h2>Processing<a class="headerlink" href="#processing" title="Lien permanent vers ce titre">¶</a></h2>
<dl class="function"><dt id="readsol-30e5576f32e6202e371422d07ec819f0"><em class="property">function </em><code class="descname">readsol</code><span class="sig-paren">(</span><em>sol</em>::Solution, <em>filename</em>::String<span class="sig-paren">)</span><a class="headerlink" href="#readsol-30e5576f32e6202e371422d07ec819f0" title="Permalink to this function">¶</a></dt><dd><p><p>Liste des paramètres :</p>
<ul class="simple">
<li><p>sol: l’objet Solution préconstruit et à mettre jour par cette méthode,</p></li>
<li><p>filename: chemin du fichier solution à charger</p></li>
</ul>
<p>Lit un fichier solution au format alp, et effectue les opérations suivantes :</p>
<ul class="simple">
<li><p>extrait tous les paramètres possibles du fichier (sauf les commentaires)</p></li>
<li><p>met à jour les attributs de l’objet Solution en fonction des informations
présentes dans le fichier</p></li>
</ul>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Cette méthode <strong>ne vérifie pas</strong> la validité de la solution vis-à-vis des
contraintes : seule la cohérence de la solution lue par rapport à son instance
est assurée.</p>
</div>
<p>Les informations suivantes sont lues mais non exploitées :</p>
<ul class="simple">
<li><p>name (e.g. « alp_01_p10_k3 »)</p></li>
<li><p>timestamp (e.g « 2019-07-08T16:57:22.343 »)</p></li>
</ul>
<p>L’ordre des avions de la solution est défini de la manière suivante selon que
le fichier de solution à lire est plus ou moins complet :</p>
<ol class="arabic simple">
<li><p>Seule la ligne « order » est définie (pas de ligne « landing » dans le fichier)
Dans ce cas seul le champ planes de la solution est mis à jour dans l’ordre
des noms de la ligne « order ».</p></li>
<li><p>Seules les lignes « landing » sont présentes (la ligne « order » est absente)
Dans ce cas l’ordre des avions est donné par l’ordre des ligne « landing ».</p></li>
<li><p>La ligne « order » <strong>et</strong> les lignes landing sont définies.
Dans ce cas l’ordre des avions est défini par la ligne « order » et les lignes
« landing » peuvent être dans un ordre quelconque</p></li>
</ol>
<p>Les vérifications de cohérence suivantes sont faites</p>
<ul class="simple">
<li><p>si les informations « order » et/ou « landing » sont présentes, elles doivent
être complètes (i.e couvrir tous les avions de l’instance, et seulement
ceux-ci).</p></li>
<li><p>si les informations de date (t) sont fournies pour tous les avions, alors
l’attribut x de la solution sera mis à jour.
Sinon seule les infrmations sur l’ordre des avion est utile, et n’a de sens
que si la ligne « order » est abscente</p></li>
<li><p>si les informations dt et cost sont présentes sur les lignes « landing »
alors elle doivent être correctes.</p></li>
<li><p>si l’information globale « costs » est présente, elle doit être correcte.</p></li>
</ul>
</p>
</dd></dl><dl class="function"><dt id="parse_solfile-13884c7b5f4e4c9ce946e3e0aefbce2a"><em class="property">function </em><code class="descname">parse_solfile</code><span class="sig-paren">(</span><em>inst</em>::Instance, <em>filename</em>::String<span class="sig-paren">)</span><a class="headerlink" href="#parse_solfile-13884c7b5f4e4c9ce946e3e0aefbce2a" title="Permalink to this function">¶</a></dt><dd><p><p>Analyse un fichier représentant une solution au format .alp</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p>inst: objet de l’instance</p></li>
<li><p>filename: nom du fichier solution</p></li>
</ul>
</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>Structure contenant les champs suivants</p>
</dd>
</dl>
</p>
</dd></dl></div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="solvers.html" class="btn btn-neutral float-right" title="Solvers" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="instance.html" class="btn btn-neutral float-left" title="Instance" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Burthier, Gauthier, Thorey

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>